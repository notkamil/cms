@startuml lab4-1-activity-booking
|Участник|
start
:Выбор пространства и даты/времени;
|Система|
:Проверка: слот в рабочих часах;
|Участник|
:Выбор типа: разовое или по подписке;
|Система|
if (Тип?) then (Разовое)
  |Участник|
  :Разовое: выбор почасового тарифа;
  |Система|
  :Разовое: проверка баланса и тарифа;
else (По подписке)
  |Участник|
  :По подписке: выбор активной подписки;
  |Система|
  :По подписке: проверка остатка минут и привязки тарифа к пространству;
endif
|Участник|
:Опционально: привязка участников;
:Подтверждение бронирования;
|Система|
:Проверка: нет пересечений по пространству;
:Создание бронирования;
:Списание: баланс или минуты подписки;
stop
@enduml
